#!/bin/sh

if ! command -v bspc xprop >/dev/null; then
	exit 0
fi

for NODE in $(bspc query -N); do
	TITLE=$(xprop -id $NODE 2>/dev/null | grep 'WM_CLASS' | awk -F \" '{print $4}')

	case $TITLE in
		'Firefox') ICON="ğŸ¦Š" ;;
		'kitty')   ICON="ğŸˆ" ;;
		'Steam')   ICON="ğŸ¦¾" ;;
		*)         ICON="ğŸ”²" ;;
	esac

	if test "$TITLE"; then
		printf " $ICON $TITLE"
	fi
done

